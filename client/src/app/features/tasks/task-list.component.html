<section class="task-list-page">
  <header class="task-list-header">
    <div>
      <h2>All Tasks</h2>
      <p class="subtitle">Track progress and stay organized</p>
  </div>
  </header>

  <section class="task-grid">
    <article
      *ngFor="let task of tasks"
      class="task-card"
      (click)="toggleTask(task._id)"
      [class.expanded]="isExpanded(task._id)"
    >
      <header class="task-header">
        <h3>{{ task.title }}</h3>
      </header>

      <div class="task-meta">
        <span class="status" [ngClass]="getStatusClass(task.status)">
          {{ task.status }}
        </span>

        <span class="priority" [ngClass]="getPriorityClass(task.priority)">
          {{ task.priority }} Priority
        </span>
      </div>

      <div class="task-details" *ngIf="isExpanded(task._id)">
        <p class="task-description">

          {{ task.description || 'No additional details provided.' }}
        </p>

        <ul class="subtask-list" *ngIf="task.subtasks?.length; else noSubtasks">
          <li *ngFor="let subtask of task.subtasks">
            {{ subtask }}
          </li>
        </ul>

        <ng-template #noSubtasks>
          <p class="noSubtasks">No subtasks assigned</p>
        </ng-template>
      </div>
    </article>
  </section>
</section>
